<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
							"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.onteacher.dao.CourseDAO">
	<update id="updateCourseStatus" parameterType="course">
		<![CDATA[
		update course
		set status=#{status}
		where id=#{id}
		]]>
	</update>
	<select id="selectCourseById" resultType="course" parameterType="int">
		<![CDATA[
		select *
		from course
		where id=#{id}
		]]>
	</select>
	<update id="updateCourseEndDate" parameterType="course">
		<![CDATA[
		update course
		set end_date=#{endDate}
		where id=#{id}
		]]>
	</update>
	<delete id="deleteCourse" parameterType="int">
		<![CDATA[
		delete from course
		where id=#{id}
		]]>
	</delete>
	<insert id="selectLowCategory" parameterType="course">
		<![CDATA[insert into course(id, teacher_id, high_category_id, low_category_id, target, is_oneday, start_date, end_date, studyday, studytime, is_online, location, is_group, min_student, max_student, title, classinfo_file)
		values((SELECT NVL(MAX(id)+1,1) FROM course), #{teacher_id}, #{high_category_id}, #{low_category_id}, #{target}, #{is_oneday}, #{start_date}, #{end_date}, #{studyday}, #{studytime}, #{is_online}, #{location}, #{is_group}, #{min_student}, #{max_student}, #{title}, #{classinfo_file})]]>
	</insert>
</mapper>