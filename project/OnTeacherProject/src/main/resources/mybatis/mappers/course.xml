<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
							"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.onteacher.dao.CourseDAO">
	<resultMap type="course" id="courseMap">
		<!-- 기본컬럼은 id, 일반 컬럼은 result -->
		<result property="teacherId" column="teacher_id" />
		<result property="isOneday" column="is_oneday" />
		<result property="startDate" column="start_date" />
		<result property="endDate" column="end_date" />
		<result property="studyDay" column="studyday" />
		<result property="studyTime" column="studytime" />
		<result property="isOnline" column="is_online" />
		<result property="isGroup" column="is_group" />
		<result property="minStudent" column="min_student" />
		<result property="maxStudent" column="max_student" />
		<result property="curriculum" column="classinfo" />
		<result property="curriculumFile" column="classinfo_file" />
		<result property="highCategoryId" column="high_category_id" />
		<result property="LowCategoryId" column="low_category_id" />
	</resultMap>

	<insert id="insertCourse" parameterType="course">
		<![CDATA[insert into course(id, teacher_id, high_category_id, low_category_id, target, is_oneday, start_date, end_date, studyday, studytime, is_online, location, is_group, min_student, max_student, title, classinfo_file, status, classinfo)
		values((SELECT NVL(MAX(id)+1,1) FROM course), #{teacherId}, #{highCategoryId}, #{lowCategoryId}, #{target, jdbcType=VARCHAR}, #{isOneday}, #{startDate, jdbcType=VARCHAR}, #{endDate, jdbcType=VARCHAR}, #{studyDay, jdbcType=VARCHAR}, #{studyTime, jdbcType=VARCHAR}, #{isOnline}, #{location, jdbcType=VARCHAR}, #{isGroup}, #{minStudent}, #{maxStudent}, #{title}, #{curriculumFile}, #{status, jdbcType=VARCHAR}, #{curriculum})]]>
	</insert>
</mapper>